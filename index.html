<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Facilitates Producing Whitehall Publisher-Ready Outputs Using Rmarkdown • govspeakr</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Facilitates Producing Whitehall Publisher-Ready Outputs Using Rmarkdown">
<meta name="description" content="Allows preparation of HTML releases for publication on gov.uk Builds on the govspeakr package, including some formatting changes useful for MoJ publications, particularly where outputting simultaneously in word and HTML formats.">
<meta property="og:description" content="Allows preparation of HTML releases for publication on gov.uk Builds on the govspeakr package, including some formatting changes useful for MoJ publications, particularly where outputting simultaneously in word and HTML formats.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">govspeakr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/callout_box.html">callout_box</a></li>
    <li><a class="dropdown-item" href="articles/conditional_output.html">conditional_output</a></li>
    <li><a class="dropdown-item" href="articles/convert_rmd.html">convert_rmd</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="govspeakr">govspeakr<a class="anchor" aria-label="anchor" href="#govspeakr"></a>
</h1></div>
<p>{govspeakr} is the replacement for the now-defunct {mojspeakr} package. This package aims to make it easier to automate official statistics publishing tasks in R:</p>
<ul>
<li><p>To allow easy conversion of an Rmarkdown file into a formatted govspeak file suitable for publishing through the Whitehall publisher on (<a href="https://www.gov.uk" class="external-link">GOV.UK</a>).</p></li>
<li><p>To allow output of statistical releases in both govspeak and another (word, PDF, HTML) format from one RMarkdown file.</p></li>
<li><p>To allow replication of many govspeak tags and formatting appearances in the HTML output.</p></li>
</ul>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>This package is available on github. To install, run the following code:</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org" class="external-link">remotes</a></span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"department-for-transport-public/govspeakr"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="section level4">
<h4 id="convert_rmd">convert_rmd()<a class="anchor" aria-label="anchor" href="#convert_rmd"></a>
</h4>
<p>Following rendering of the Rmd output, the <code><a href="reference/convert_rmd.html">convert_rmd()</a></code> function modifies formatting of the .md file to produce a govspeak output which can be read by Whitehall Publishing:</p>
<ul>
<li>Image tags are converted from standard markdown to govspeak i.e.</li>
</ul>
<pre><code>Figure 1
![](images/image1.png)&lt;!-- --&gt;!

Figure 1
[Image:image1.png]</code></pre>
<ul>
<li><p>Page breaks are replaced.</p></li>
<li><p>YAML header and code chunks are removed</p></li>
<li><p>All hashed headers are increased by one level</p></li>
</ul>
<p>For more details on how to use this function, see the <a href="https://department-for-transport-public.github.io/govspeakr/articles/callout_box.html" class="external-link">vignette</a>.</p>
</div>
<div class="section level3">
<h3 id="formatting-of-govspeak-documents-for-publication">Formatting of govspeak documents for publication<a class="anchor" aria-label="anchor" href="#formatting-of-govspeak-documents-for-publication"></a>
</h3>
<p>The following functions are all designed to be used inside Rmarkdown documents, and aim to make it simple to include images, tables, and other content permitted on gov.uk. All of these features will appear in the final govspeak output, and in some cases an approximation of their gov.uk appearance will be returned in other formats.</p>
<div class="section level4">
<h4 id="add_image">add_image()<a class="anchor" aria-label="anchor" href="#add_image"></a>
</h4>
<p>Allows simple addition of figures which are not generated within the Rmarkdown document. These should preferably be in .svg format, but if they are in .png format they must adhere to the Whitehall publishing size of 960 by 640 pixels. Takes two arguments, the file name and its folder location (defaults to “graphs”).</p>
</div>
<div class="section level4">
<h4 id="add_table">add_table()<a class="anchor" aria-label="anchor" href="#add_table"></a>
</h4>
<p>Formats a dataframe of data into a table. This will display correctly in govspeak and other (word and HTML) formats, and allows for text to go over multiple lines. Takes a single argument <code>data</code> of the table contents.</p>
</div>
<div class="section level4">
<h4 id="conditional_publishing_output">conditional_publishing_output()<a class="anchor" aria-label="anchor" href="#conditional_publishing_output"></a>
</h4>
<p>Aims to make publishing two formats from one RMarkdown document simple. This wrapper allows any output to be conditional and only appear in one of the specified formats e.g. to output table_one in the HTML output only you can use:</p>
<pre><code><span><span class="fu"><a href="reference/conditional_publishing_output.html">conditional_publishing_output</a></span><span class="op">(</span><span class="va">table_one</span>, <span class="st">"html"</span><span class="op">)</span></span></code></pre>
<p>In this example, the output will not appear at all in any non-HTML outputs such as word or pdf.</p>
<p>For more details on how to use this function, see the <a href="https://department-for-transport-public.github.io/govspeakr/articles/conditional_output.html" class="external-link">vignette</a>.</p>
</div>
<div class="section level4">
<h4 id="callout_box">callout_box()<a class="anchor" aria-label="anchor" href="#callout_box"></a>
</h4>
<p>Some publications use a callout box to add emphasis to text in an online publication via <code>$CTA</code> tags. This function automatically adds these <code>$CTA</code> tags to text in the govspeakr output only. If the HTML output is not used as the govspeakr output, CTA tags will appear in a grey box in HTML outputs.</p>
</div>
</div>
<div class="section level3">
<h3 id="formatting-of-html-pre-releases">Formatting of HTML pre-releases<a class="anchor" aria-label="anchor" href="#formatting-of-html-pre-releases"></a>
</h3>
<p>The following functions are all designed to be used inside Rmarkdown documents, and aim to make it simple to add aesthetic features such as the headers which are present by default on all gov.uk publications. These features will appear in the HTML output only, and should not be used in the govspeak output.</p>
<div class="section level4">
<h4 id="add_blue_header">add_blue_header()<a class="anchor" aria-label="anchor" href="#add_blue_header"></a>
</h4>
<p>Includes details of the statistical publication in a blue header, mimicking the appearance of gov.uk. Takes three arguments, the title of the release, the stats badging status (defaults to National Statistics), and the pre-release sub-header (defaults to “pre-release”).</p>
</div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing govspeakr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li> Francesca.Bryden <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Francesca.Bryden.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
